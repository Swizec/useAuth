var e=require("firebaseui"),t=require("firebase/app");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("firebase/auth");var r=i(t);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}exports.FirebaseUI=function(){function t(t){if(this.dispatch=t.dispatch,this.signInOptions=t.signInOptions,t.firebaseConfig)this.firebase=r.default.initializeApp(t.firebaseConfig,"useAuth");else{if(!t.firebaseApp)throw"Please provide firebaseConfig or initialized firebaseApp";this.firebase=t.firebaseApp}this.ui=new e.auth.AuthUI(this.firebase.auth()),this.firebase.auth().onAuthStateChanged(this.onAuthStateChanged.bind(this))}var i=t.prototype;return i.onAuthStateChanged=function(e){e&&(this.dispatch("LOGIN"),this.dispatch("AUTHENTICATED",{user:this.firebase.auth().currentUser,authResult:{expiresIn:3600}}))},t.addDefaultParams=function(e,t){return n({signInOptions:[r.default.auth.EmailAuthProvider.PROVIDER_ID]},e)},i.authorize=function(){var e=this;this.dispatch("LOGIN"),this.ui.start("#firebaseui-auth-container",{signInOptions:this.signInOptions,signInFlow:"popup",callbacks:{signInSuccessWithAuthResult:function(t){return e.dispatch("AUTHENTICATED",{user:e.firebase.auth().currentUser,authResult:n({},t,{expiresIn:3600})}),!1}}})},i.signup=function(){},i.logout=function(e){this.firebase.auth().signOut()},i.userId=function(e){var t;return null==(t=this.firebase.auth().currentUser)?void 0:t.uid},i.userRoles=function(e){return[]},i.handleLoginCallback=function(){return Promise.resolve(!1)},i.checkSession=function(){try{var e=this.firebase.auth().currentUser;if(e)return Promise.resolve(e.reload()).then(function(){return{user:e,authResult:{expiresIn:3600}}});throw new Error("Session invalid")}catch(e){return Promise.reject(e)}},t}();
//# sourceMappingURL=FirebaseUI.js.map
